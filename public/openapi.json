{"openapi":"3.1.0","info":{"title":"Secure FastAPI","version":"1.0.0"},"paths":{"/api/v1/monitoring/health":{"get":{"tags":["monitoring"],"summary":"Health Check","operationId":"health_check_api_v1_monitoring_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/monitoring/metrics":{"get":{"tags":["monitoring"],"summary":"Get Metrics","operationId":"get_metrics_api_v1_monitoring_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/monitoring/ready":{"get":{"tags":["monitoring"],"summary":"Readiness Check","operationId":"readiness_check_api_v1_monitoring_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/roles":{"get":{"tags":["roles"],"summary":"List Roles","operationId":"list_roles_api_v1_roles_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication"],"summary":"Register a new user","description":"Create a new user account. Only administrators can register new users.","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"User successfully registered","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"username":"john_doe","email":"john@example.com","full_name":"John Doe","role":"user","disabled":false}}}},"400":{"description":"Username or email already exists"},"403":{"description":"Only administrators can register new users"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/token":{"post":{"tags":["authentication"],"summary":"Login to get access token","description":"Authenticate user and receive access and refresh tokens.","operationId":"login_api_v1_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_v1_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}}}},"401":{"description":"Incorrect username or password"},"400":{"description":"Inactive user"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh access token","description":"Get a new access token using a valid refresh token.","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Token refreshed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}}}},"401":{"description":"Invalid or expired refresh token"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication"],"summary":"Logout user","description":"Logout the current authenticated user.","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successfully logged out","content":{"application/json":{"schema":{},"example":{"message":"Successfully logged out"}}}},"401":{"description":"Not authenticated"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/me":{"get":{"tags":["authentication"],"summary":"Get current user","description":"Retrieve the profile of the currently authenticated user.","operationId":"get_auth_user_api_v1_auth_me_get","responses":{"200":{"description":"Current user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"username":"john_doe","email":"john@example.com","full_name":"John Doe","role":"user","disabled":false}}}},"401":{"description":"Not authenticated"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me":{"get":{"tags":["users"],"summary":"Read Users Me","operationId":"read_users_me_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["users"],"summary":"Update User Me","operationId":"update_user_me_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["users"],"summary":"Disable Own Account","operationId":"disable_own_account_api_v1_users_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/password":{"patch":{"tags":["users"],"summary":"Change Password","operationId":"change_password_api_v1_users_me_password_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users":{"get":{"tags":["users"],"summary":"List Users","operationId":"list_users_api_v1_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/User"},"type":"array","title":"Response List Users Api V1 Users Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{username}":{"get":{"tags":["users"],"summary":"Get User","operationId":"get_user_api_v1_users__username__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","operationId":"update_user_api_v1_users__username__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","operationId":"delete_user_api_v1_users__username__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{username}/password":{"patch":{"tags":["users"],"summary":"Reset User Password","operationId":"reset_user_password_api_v1_users__username__password_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"new_password","in":"query","required":true,"schema":{"type":"string","title":"New Password"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{username}/role":{"patch":{"tags":["users"],"summary":"Change User Role","operationId":"change_user_role_api_v1_users__username__role_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"new_role","in":"query","required":true,"schema":{"$ref":"#/components/schemas/UserRole"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{username}/disable":{"patch":{"tags":["users"],"summary":"Disable User","operationId":"disable_user_api_v1_users__username__disable_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{username}/enable":{"patch":{"tags":["users"],"summary":"Enable User","operationId":"enable_user_api_v1_users__username__enable_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/":{"post":{"tags":["clients"],"summary":"Create new client","description":"Register a new client in the gym","operationId":"create_client_api_v1_clients__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["clients"],"summary":"List all clients","description":"Get a paginated list of clients with optional filters","operationId":"list_clients_api_v1_clients__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active/inactive status","title":"Is Active"},"description":"Filter by active/inactive status"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"description":"Search by name, DNI, email or phone","title":"Search"},"description":"Search by name, DNI, email or phone"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Client"},"title":"Response List Clients Api V1 Clients  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/dni/{dni_number}":{"get":{"tags":["clients"],"summary":"Get client by DNI","description":"Retrieve a client using their document number (useful for check-in)","operationId":"get_client_by_dni_api_v1_clients_dni__dni_number__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dni_number","in":"path","required":true,"schema":{"type":"string","title":"Dni Number"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}":{"get":{"tags":["clients"],"summary":"Get client by ID","description":"Retrieve detailed information of a specific client","operationId":"get_client_api_v1_clients__client_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}},{"name":"include_biometrics","in":"query","required":false,"schema":{"type":"boolean","description":"Include biometric information in response","default":true,"title":"Include Biometrics"},"description":"Include biometric information in response"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["clients"],"summary":"Update client","description":"Update information of an existing client","operationId":"update_client_api_v1_clients__client_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["clients"],"summary":"Deactivate client","description":"Deactivate a client (soft delete). The client can be reactivated","operationId":"deactivate_client_api_v1_clients__client_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/dashboard":{"get":{"tags":["clients"],"summary":"Get client dashboard","description":"Get summarized client information including current subscription and statistics","operationId":"get_client_dashboard_api_v1_clients__client_id__dashboard_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientDashboard"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/plans/":{"post":{"tags":["plans"],"summary":"Create a new plan","description":"Register a new subscription plan in the system.","operationId":"create_plan_api_v1_plans__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanCreate"}}}},"responses":{"201":{"description":"Plan successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Plan"},"example":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Basic Plan","slug":"basic-plan","description":"A basic subscription plan","price":50000.0,"currency":"COP","duration_unit":"month","duration_count":1,"is_active":true,"created_at":"2025-10-13T10:30:00Z","updated_at":"2025-10-13T10:30:00Z","meta_info":{}}}}},"400":{"description":"Plan with this slug already exists"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["plans"],"summary":"List all plans","description":"Retrieve a paginated list of plans with optional filtering.","operationId":"list_plans_api_v1_plans__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"List of plans","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Plan"},"title":"Response List Plans Api V1 Plans  Get"},"example":[{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Basic Plan","slug":"basic-plan","description":"A basic subscription plan","price":50000.0,"currency":"COP","duration_unit":"month","duration_count":1,"is_active":true,"created_at":"2025-10-13T10:30:00Z","updated_at":"2025-10-13T10:30:00Z","meta_info":{}}]}}},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/plans/search":{"get":{"tags":["plans"],"summary":"Search plans","description":"Search plans by name, description, or slug.","operationId":"search_plans_api_v1_plans_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term","title":"Q"},"description":"Search term"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Plan"},"title":"Response Search Plans Api V1 Plans Search Get"},"example":[{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Basic Plan","slug":"basic-plan","description":"A basic subscription plan","price":50000.0,"currency":"COP","duration_unit":"month","duration_count":1,"is_active":true,"created_at":"2025-10-13T10:30:00Z","updated_at":"2025-10-13T10:30:00Z","meta_info":{}}]}}},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/plans/slug/{slug}":{"get":{"tags":["plans"],"summary":"Get plan by slug","description":"Retrieve a specific plan by its slug.","operationId":"get_plan_by_slug_api_v1_plans_slug__slug__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string","title":"Slug"}}],"responses":{"200":{"description":"Plan found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Plan"},"example":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Basic Plan","slug":"basic-plan","description":"A basic subscription plan","price":50000.0,"currency":"COP","duration_unit":"month","duration_count":1,"is_active":true,"created_at":"2025-10-13T10:30:00Z","updated_at":"2025-10-13T10:30:00Z","meta_info":{}}}}},"404":{"description":"Plan not found"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/plans/{plan_id}":{"get":{"tags":["plans"],"summary":"Get plan by ID","description":"Retrieve a specific plan by its ID.","operationId":"get_plan_api_v1_plans__plan_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Plan Id"}}],"responses":{"200":{"description":"Plan found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Plan"},"example":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Basic Plan","slug":"basic-plan","description":"A basic subscription plan","price":50000.0,"currency":"COP","duration_unit":"month","duration_count":1,"is_active":true,"created_at":"2025-10-13T10:30:00Z","updated_at":"2025-10-13T10:30:00Z","meta_info":{}}}}},"404":{"description":"Plan not found"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["plans"],"summary":"Update a plan","description":"Update an existing subscription plan.","operationId":"update_plan_api_v1_plans__plan_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Plan Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanUpdate"}}}},"responses":{"200":{"description":"Plan successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Plan"},"example":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Updated Plan","slug":"updated-plan","description":"An updated subscription plan","price":75000.0,"currency":"COP","duration_unit":"month","duration_count":1,"is_active":true,"created_at":"2025-10-13T10:30:00Z","updated_at":"2025-10-13T11:00:00Z","meta_info":{}}}}},"404":{"description":"Plan not found"},"400":{"description":"Another plan with this slug already exists"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["plans"],"summary":"Delete a plan","description":"Soft delete a plan by setting is_active to False.","operationId":"delete_plan_api_v1_plans__plan_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Plan Id"}}],"responses":{"204":{"description":"Plan successfully deleted"},"404":{"description":"Plan not found"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/subscriptions/":{"post":{"tags":["subscriptions"],"summary":"Create subscription","description":"Create a new subscription for a client","operationId":"create_subscription_api_v1_clients__client_id__subscriptions__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCreateInput"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["subscriptions"],"summary":"Get client subscriptions","description":"Get all subscriptions for a client","operationId":"get_client_subscriptions_api_v1_clients__client_id__subscriptions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Subscription"},"title":"Response Get Client Subscriptions Api V1 Clients  Client Id  Subscriptions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/subscriptions/active":{"get":{"tags":["subscriptions"],"summary":"Get active subscription","description":"Get the active subscription for a client","operationId":"get_active_subscription_api_v1_clients__client_id__subscriptions_active_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/subscriptions/{subscription_id}/renew":{"post":{"tags":["subscriptions"],"summary":"Renew subscription","description":"Renew a subscription. Creates a new subscription based on the old one","operationId":"renew_subscription_api_v1_clients__client_id__subscriptions__subscription_id__renew_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}},{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subscription Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionRenewInput"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/subscriptions/{subscription_id}/cancel":{"patch":{"tags":["subscriptions"],"summary":"Cancel subscription","description":"Cancel an active subscription","operationId":"cancel_subscription_api_v1_clients__client_id__subscriptions__subscription_id__cancel_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}},{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subscription Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCancelInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subscription"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/subscriptions/{subscription_id}/payments":{"post":{"tags":["payments"],"summary":"Create payment for subscription","description":"Create a payment for a specific subscription","operationId":"create_payment_api_v1_subscriptions__subscription_id__payments_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subscription Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreateInput"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentWithDebtInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["payments"],"summary":"List subscription payments","description":"Get all payments for a specific subscription","operationId":"get_subscription_payments_api_v1_subscriptions__subscription_id__payments_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subscription Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Payment"},"title":"Response Get Subscription Payments Api V1 Subscriptions  Subscription Id  Payments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/subscriptions/{subscription_id}/payments/stats":{"get":{"tags":["payments"],"summary":"Get subscription payment stats","description":"Get payment statistics for a subscription","operationId":"get_subscription_payment_stats_api_v1_subscriptions__subscription_id__payments_stats_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Subscription Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/payments":{"get":{"tags":["payments"],"summary":"List client payments","description":"Get all payments made by a client across all subscriptions","operationId":"get_client_payments_api_v1_clients__client_id__payments_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Payment"},"title":"Response Get Client Payments Api V1 Clients  Client Id  Payments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/payments/stats":{"get":{"tags":["payments"],"summary":"Get client payment stats","description":"Get aggregated payment statistics for a client","operationId":"get_client_payment_stats_api_v1_clients__client_id__payments_stats_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/face/register":{"post":{"tags":["face-recognition"],"summary":"Register face biometric","description":"Register a client's face biometric data for facial recognition.","operationId":"register_client_face_api_v1_face_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceRegistrationRequest"}}},"required":true},"responses":{"201":{"description":"Face registered successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceRegistrationResponse"},"example":{"success":true,"message":"Face registered successfully","biometric_id":"123e4567-e89b-12d3-a456-426614174000","client_id":"987fcdeb-51a2-43f1-9876-543210fedcba"}}}},"400":{"description":"Invalid image or no face detected"},"404":{"description":"Client not found"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/face/authenticate":{"post":{"tags":["face-recognition"],"summary":"Authenticate with face","description":"Authenticate a client by comparing their face with registered biometrics.","operationId":"authenticate_client_face_api_v1_face_authenticate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceAuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"Face authenticated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceAuthenticationResponse"},"example":{"success":true,"message":"Face authenticated successfully","client_id":"987fcdeb-51a2-43f1-9876-543210fedcba","client_info":{"first_name":"Juan","last_name":"PÃ©rez","dni_number":"12345678"},"confidence":0.95}}}},"401":{"description":"Authentication failed - no matching face found"},"400":{"description":"Invalid image or no face detected"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/face/compare":{"post":{"tags":["face-recognition"],"summary":"Compare two faces","description":"Compare two face images to determine if they belong to the same person.","operationId":"compare_faces_api_v1_face_compare_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceComparisonRequest"}}},"required":true},"responses":{"200":{"description":"Faces compared successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceComparisonResponse"},"example":{"success":true,"message":"Faces compared successfully","match":true,"distance":0.35,"confidence":0.92}}}},"400":{"description":"Invalid images or no faces detected"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/face/update":{"put":{"tags":["face-recognition"],"summary":"Update face biometric","description":"Update a client's face biometric data with a new image.","operationId":"update_client_face_api_v1_face_update_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Face updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceRegistrationResponse"},"example":{"success":true,"message":"Face updated successfully","biometric_id":"123e4567-e89b-12d3-a456-426614174000","client_id":"987fcdeb-51a2-43f1-9876-543210fedcba"}}}},"400":{"description":"Invalid image or no face detected"},"404":{"description":"Client not found"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/face/{client_id}":{"delete":{"tags":["face-recognition"],"summary":"Delete face biometric","description":"Delete all face biometric data for a specific client.","operationId":"delete_client_face_api_v1_face__client_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}}],"responses":{"200":{"description":"Face biometric deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceDeleteResponse"},"example":{"success":true,"message":"Face biometric deleted successfully"}}}},"404":{"description":"Client not found"},"400":{"description":"Failed to delete face biometric"},"401":{"description":"Not authenticated"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/check-in":{"post":{"tags":["attendances"],"summary":"Check-in with facial recognition","description":"Validates client identity and records gym entry.","operationId":"check_in_with_face_api_v1_check_in_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaceAuthenticationRequest"}}},"required":true},"responses":{"201":{"description":"Entry recorded successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckInResponse"},"example":{"success":true,"message":"Welcome to the gym","can_enter":true,"attendance":{"id":"550e8400-e29b-41d4-a716-446655440000","client_id":"550e8400-e29b-41d4-a716-446655440001","check_in":"2025-10-22T10:30:00Z","meta_info":{}},"client_info":{"first_name":"John","last_name":"Doe","dni_number":"1234567890"}}}}},"400":{"description":"Invalid image or no face detected","content":{"application/json":{"example":{"detail":"No face detected in the image","error":"no_face_detected"}}}},"401":{"description":"Face not recognized or insufficient confidence","content":{"application/json":{"example":{"detail":"Face not recognized in the system","error":"face_not_recognized"}}}},"403":{"description":"Access denied: inactive client, expired subscription, etc","content":{"application/json":{"example":{"success":false,"message":"Access denied","can_enter":false,"reason":"subscription_expired","detail":"Your subscription expired on 2025-10-20. Renew it to continue."}}}},"409":{"description":"Already checked in today","content":{"application/json":{"example":{"success":false,"message":"You have already checked in today","can_enter":false,"reason":"already_checked_in","detail":"Last check-in: 2025-10-24T08:30:00Z"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/attendances":{"get":{"tags":["attendances"],"summary":"Get all attendances","description":"Gets all system attendances with client info (requires admin).","operationId":"get_all_attendances_api_v1_attendances_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Records per page","default":100,"title":"Limit"},"description":"Records per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Skip records","default":0,"title":"Offset"},"description":"Skip records"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date (ISO 8601): 2025-10-01T00:00:00Z","title":"Start Date"},"description":"Start date (ISO 8601): 2025-10-01T00:00:00Z"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date (ISO 8601): 2025-10-31T23:59:59Z","title":"End Date"},"description":"End date (ISO 8601): 2025-10-31T23:59:59Z"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AttendanceWithClientInfo"},"title":"Response Get All Attendances Api V1 Attendances Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clients/{client_id}/attendances":{"get":{"tags":["attendances"],"summary":"Client attendance history","description":"Gets all recorded entries for a client with pagination.","operationId":"get_client_attendances_api_v1_clients__client_id__attendances_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Client Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Records per page","default":50,"title":"Limit"},"description":"Records per page"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Skip records","default":0,"title":"Offset"},"description":"Skip records"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AttendanceResponse"},"title":"Response Get Client Attendances Api V1 Clients  Client Id  Attendances Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{attendance_id}":{"get":{"tags":["attendances"],"summary":"Get attendance by ID","description":"Retrieves details of a specific attendance record.","operationId":"get_attendance_api_v1__attendance_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"attendance_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Attendance Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/products":{"post":{"tags":["Products"],"summary":"Create a new product","description":"Create a new product.\n\n**Required permissions:** Admin\n\n**Request Body:**\n- name: Product name (1-150 chars, required)\n- description: Optional product description (max 500 chars)\n- capacity_value: Capacity/volume (required, must be > 0)\n- unit_type: Unit of measurement like 'ml', 'bottle', 'can' (required)\n- price: Product price (required, >= 0)\n- currency: Currency code (default: 'COP')\n- photo_url: Optional product image URL\n- min_stock: Minimum stock threshold (default: 5.00)\n- max_stock: Maximum stock capacity (optional)\n\n**Response:**\nReturns the created ProductResponse with generated ID and timestamps.","operationId":"create_product_api_v1_inventory_products_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}}},"responses":{"201":{"description":"Product created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"400":{"description":"Validation error","content":{"application/json":{"example":{"detail":"Max stock must be greater than or equal to min stock"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Products"],"summary":"List all products with pagination","description":"List all products with pagination.\n\n**Query Parameters:**\n- skip: Number of products to skip (default: 0)\n- limit: Maximum products per page (default: 100, max: 100)\n- active_only: If true, only return active products (default: true)\n\n**Response Schema:**\n- skip: Pagination offset used\n- limit: Pagination limit used\n- total: Total count of products matching filter\n- items: Array of ProductResponse objects","operationId":"list_products_api_v1_inventory_products_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Skip"},"description":"Number of items to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Max items per page","default":100,"title":"Limit"},"description":"Max items per page"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only return active products","default":true,"title":"Active Only"},"description":"Only return active products"}],"responses":{"200":{"description":"List of products","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response List Products Api V1 Inventory Products Get"},"example":{"skip":0,"limit":100,"total":5,"items":[{"id":"uuid-1","name":"Coca Cola 350ml","description":"Soft drink","capacity_value":350,"unit_type":"ml","price":2500,"currency":"COP","photo_url":"https://example.com/coke.jpg","available_quantity":50,"min_stock":10,"max_stock":200,"stock_status":"NORMAL","is_active":true,"created_at":"2025-01-15T10:30:00Z","updated_at":"2025-01-15T10:30:00Z"}]}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/products/{product_id}":{"get":{"tags":["Products"],"summary":"Get product by ID","description":"Retrieve a product by ID.\n\n**Response Schema:**\n- id: Product unique identifier\n- name: Product name\n- description: Product description\n- capacity_value: Capacity value\n- unit_type: Unit type\n- price: Product price\n- currency: Currency code\n- photo_url: Product image URL\n- available_quantity: Current stock\n- min_stock: Minimum stock threshold\n- max_stock: Maximum stock capacity\n- stock_status: Current stock status (NORMAL, LOW, OUT_OF_STOCK, OVERSTOCK)\n- is_active: Whether product is active\n- created_at: Creation timestamp (UTC)\n- updated_at: Last update timestamp (UTC)","operationId":"get_product_api_v1_inventory_products__product_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"responses":{"200":{"description":"Product found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"404":{"description":"Product not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Products"],"summary":"Update a product","description":"Update a product.\n\n**Required permissions:** Admin\n\n**Request Body (all fields optional):**\nOnly provided fields will be updated (partial update).\n\n**Response Schema:**\nReturns the updated ProductResponse with all fields.","operationId":"update_product_api_v1_inventory_products__product_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Product updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"404":{"description":"Product not found"},"400":{"description":"Validation error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Products"],"summary":"Deactivate a product","description":"Deactivate a product (soft delete).\n\n**Required permissions:** Admin\n\nThe product is marked as inactive but not deleted from the database.\n\n**Response:**\nNo content returned (204 status code).","operationId":"deactivate_product_api_v1_inventory_products__product_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"responses":{"204":{"description":"Product deactivated successfully"},"404":{"description":"Product not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/products/search":{"get":{"tags":["Products"],"summary":"Search products","description":"Search products by name or description.\n\n**Query Parameters:**\n- q: Search query (required, min 1 character)\n- skip: Pagination offset\n- limit: Maximum results (max: 100)\n\n**Response Schema:**\nArray of ProductResponse objects matching the search query.","operationId":"search_products_api_v1_inventory_products_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query","title":"Q"},"description":"Search query"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"},"title":"Response 200 Search Products Api V1 Inventory Products Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/stock/add":{"post":{"tags":["Stock Management"],"summary":"Add stock to a product","description":"Add stock to a product (reabastecimiento/replenishment).\n\n**Required permissions:** Admin\n\nCreates an ENTRY movement and updates product stock.\n\n**Query Parameters:**\n- product_id: Product UUID (required)\n- quantity: Amount to add in units (required, must be > 0)\n- notes: Optional notes about this stock entry (max 500 chars)\n\n**Response Schema:**\nReturns object with two fields:\n- product: Updated ProductResponse with new available_quantity\n- movement: Created InventoryMovementResponse with ENTRY type\n\n**Error Cases:**\n- 400: Quantity validation fails or would exceed max_stock\n- 404: Product not found\n- 500: Database or server error","operationId":"add_stock_api_v1_inventory_stock_add_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"query","required":true,"schema":{"type":"string","description":"Product UUID","title":"Product Id"},"description":"Product UUID"},{"name":"quantity","in":"query","required":true,"schema":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"description":"Quantity to add (must be positive)","title":"Quantity"},"description":"Quantity to add (must be positive)"},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"description":"Optional notes about the entry","title":"Notes"},"description":"Optional notes about the entry"}],"responses":{"201":{"description":"Stock added successfully","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Add Stock Api V1 Inventory Stock Add Post"},"example":{"product":{"id":"uuid-1","name":"Coca Cola 350ml","description":"Soft drink","capacity_value":350,"unit_type":"ml","price":2500,"currency":"COP","photo_url":"https://example.com/coke.jpg","available_quantity":150,"min_stock":10,"max_stock":200,"stock_status":"NORMAL","is_active":true,"created_at":"2025-01-15T10:30:00Z","updated_at":"2025-01-15T11:45:00Z"},"movement":{"id":"mov-uuid-1","product_id":"uuid-1","movement_type":"ENTRY","quantity":100,"movement_date":"2025-01-15T11:45:00Z","notes":"Stock replenishment from warehouse"}}}}},"400":{"description":"Validation error","content":{"application/json":{"examples":{"insufficient_capacity":{"value":{"detail":"Adding 500 units would exceed max_stock (200)"}},"invalid_quantity":{"value":{"detail":"Quantity must be positive"}},"product_not_found":{"value":{"detail":"Product uuid-xyz not found"}}}}}},"404":{"description":"Product not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/stock/remove":{"post":{"tags":["Stock Management"],"summary":"Remove stock from a product","description":"Remove stock from a product (venta/retiro - sale/withdrawal).\n\n**Required permissions:** Employee or Admin\n\nCreates an EXIT movement with negative quantity stored internally.\n\n**Query Parameters:**\n- product_id: Product UUID (required)\n- quantity: Amount to remove in units (required, must be > 0)\n- responsible: Username of person removing stock (optional, defaults to current user)\n- notes: Optional notes about this stock exit (max 500 chars)\n\n**Response Schema:**\nReturns object with two fields:\n- product: Updated ProductResponse with reduced available_quantity\n- movement: Created InventoryMovementResponse with EXIT type (quantity stored as negative)\n\n**Error Cases:**\n- 400: Insufficient stock or quantity validation fails\n- 404: Product not found\n- 500: Database or server error\n\n**Note:** The quantity in the movement response will be negative for EXIT movements.","operationId":"remove_stock_api_v1_inventory_stock_remove_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"query","required":true,"schema":{"type":"string","description":"Product UUID","title":"Product Id"},"description":"Product UUID"},{"name":"quantity","in":"query","required":true,"schema":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"description":"Quantity to remove (must be positive)","title":"Quantity"},"description":"Quantity to remove (must be positive)"},{"name":"responsible","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Username of person removing stock","title":"Responsible"},"description":"Username of person removing stock"},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"description":"Optional notes about the exit","title":"Notes"},"description":"Optional notes about the exit"}],"responses":{"201":{"description":"Stock removed successfully","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Remove Stock Api V1 Inventory Stock Remove Post"},"example":{"product":{"id":"uuid-1","name":"Coca Cola 350ml","description":"Soft drink","capacity_value":350,"unit_type":"ml","price":2500,"currency":"COP","photo_url":"https://example.com/coke.jpg","available_quantity":85,"min_stock":10,"max_stock":200,"stock_status":"NORMAL","is_active":true,"created_at":"2025-01-15T10:30:00Z","updated_at":"2025-01-15T12:15:00Z"},"movement":{"id":"mov-uuid-2","product_id":"uuid-1","movement_type":"EXIT","quantity":-15,"movement_date":"2025-01-15T12:15:00Z","responsible":"juan","notes":"Sale to customer"}}}}},"400":{"description":"Validation error","content":{"application/json":{"examples":{"insufficient_stock":{"value":{"detail":"Insufficient stock. Available: 10, Requested: 50"}},"invalid_quantity":{"value":{"detail":"Quantity must be positive"}},"product_not_found":{"value":{"detail":"Product uuid-xyz not found"}}}}}},"404":{"description":"Product not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/movements/{movement_id}":{"get":{"tags":["Movements"],"summary":"Get movement by ID","description":"Retrieve movement by ID.\n\n**Permissions:** Any authenticated user\n\n**Path Parameters:**\n- movement_id: Movement UUID (required)\n\n**Response Schema (InventoryMovementResponse):**\n- id: Movement unique identifier\n- product_id: Associated product UUID\n- movement_type: Type of movement (ENTRY, EXIT, ADJUSTMENT)\n- quantity: Amount moved (positive for ENTRY, negative for EXIT, any for ADJUSTMENT)\n- movement_date: Timestamp when movement was recorded (UTC, auto-converted to local timezone)\n- responsible: Username of person responsible for movement (optional)\n- notes: Additional notes or comments (optional)\n\n**Error Cases:**\n- 404: Movement not found\n- 401: Unauthorized (not authenticated)","operationId":"get_movement_api_v1_inventory_movements__movement_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"movement_id","in":"path","required":true,"schema":{"type":"string","title":"Movement Id"}}],"responses":{"200":{"description":"Movement found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryMovementResponse"},"example":{"id":"mov-uuid-1","product_id":"prod-uuid-1","movement_type":"EXIT","quantity":-15,"movement_date":"2025-01-15T12:30:00Z","responsible":"juan","notes":"Sale transaction #1234"}}}},"404":{"description":"Movement not found","content":{"application/json":{"example":{"detail":"Movement mov-uuid-xyz not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/movements":{"get":{"tags":["Movements"],"summary":"List all movements with pagination","description":"List all movements with pagination.\n\n**Permissions:** Any authenticated user\n\nReturns paginated list of all inventory movements sorted by date (newest first).\n\n**Query Parameters:**\n- skip: Number of movements to skip for pagination (default: 0)\n- limit: Maximum movements to return per page (default: 100, max: 100)\n\n**Response Schema:**\n- skip: Pagination offset used in query\n- limit: Pagination limit used in query\n- total: Total count of all movements available\n- items: Array of InventoryMovementResponse objects\n\n**InventoryMovementResponse fields:**\n- id: Movement unique identifier\n- product_id: Associated product UUID\n- movement_type: Type of movement (ENTRY, EXIT, ADJUSTMENT)\n- quantity: Amount moved\n- movement_date: Timestamp in UTC (auto-converted to local timezone in response)\n- responsible: Person responsible (optional)\n- notes: Additional notes (optional)\n\n**Error Cases:**\n- 401: Unauthorized (not authenticated)","operationId":"list_movements_api_v1_inventory_movements_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of movements to skip (pagination offset)","default":0,"title":"Skip"},"description":"Number of movements to skip (pagination offset)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum movements per page (max: 100)","default":100,"title":"Limit"},"description":"Maximum movements per page (max: 100)"}],"responses":{"200":{"description":"List of movements","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response List Movements Api V1 Inventory Movements Get"},"example":{"skip":0,"limit":100,"total":245,"items":[{"id":"mov-uuid-1","product_id":"prod-uuid-1","movement_type":"EXIT","quantity":-15,"movement_date":"2025-01-15T12:30:00Z","responsible":"juan","notes":"Sale transaction"},{"id":"mov-uuid-2","product_id":"prod-uuid-1","movement_type":"ENTRY","quantity":100,"movement_date":"2025-01-15T10:00:00Z","notes":"Stock replenishment"},{"id":"mov-uuid-3","product_id":"prod-uuid-2","movement_type":"ADJUSTMENT","quantity":-5,"movement_date":"2025-01-14T16:45:00Z","responsible":"admin","notes":"Inventory count adjustment"}]}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/reports/stats":{"get":{"tags":["Reports"],"summary":"Get inventory statistics","description":"Get comprehensive inventory statistics.\n\n**Required permissions:** Admin\n\nReturns overall inventory metrics and status overview.\n\n**Response Schema:**\n- total_products: Total number of active products in system\n- low_stock_count: Number of products with stock <= min_stock\n- out_of_stock_count: Number of products with stock = 0\n- overstock_count: Number of products with stock > max_stock\n- total_inventory_value: Total monetary value of all stock (quantity * price)\n- total_units: Total units in stock across all products\n\n**Use Case:** Dashboard overview, inventory health check","operationId":"get_inventory_stats_api_v1_inventory_reports_stats_get","responses":{"200":{"description":"Inventory statistics","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Inventory Stats Api V1 Inventory Reports Stats Get"},"example":{"total_products":25,"low_stock_count":3,"out_of_stock_count":1,"overstock_count":2,"total_inventory_value":1250000,"total_units":850}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/inventory/reports/low-stock":{"get":{"tags":["Reports"],"summary":"Get low stock products","description":"Get all products with low stock.\n\n**Required permissions:** Admin\n\nReturns list of products where current stock is at or below minimum threshold.\n\n**Response Schema:**\nArray of ProductResponse objects where available_quantity <= min_stock\n\n**Use Case:** Alerts for procurement, restocking decisions","operationId":"get_low_stock_alerts_api_v1_inventory_reports_low_stock_get","responses":{"200":{"description":"Products with low stock","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Response 200 Get Low Stock Alerts Api V1 Inventory Reports Low Stock Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/inventory/reports/out-of-stock":{"get":{"tags":["Reports"],"summary":"Get out of stock products","description":"Get all products out of stock.\n\n**Required permissions:** Admin\n\nReturns list of products with zero available quantity.\n\n**Response Schema:**\nArray of ProductResponse objects where available_quantity = 0\n\n**Use Case:** Critical alerts, urgent restocking, customer communication","operationId":"get_out_of_stock_api_v1_inventory_reports_out_of_stock_get","responses":{"200":{"description":"Products with zero stock","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Response 200 Get Out Of Stock Api V1 Inventory Reports Out Of Stock Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/inventory/reports/overstock":{"get":{"tags":["Reports"],"summary":"Get overstock products","description":"Get all products with overstock.\n\n**Required permissions:** Admin\n\nReturns list of products where stock exceeds maximum capacity.\n\n**Response Schema:**\nArray of ProductResponse objects where available_quantity > max_stock (only if max_stock is set)\n\n**Use Case:** Identify excess inventory, storage issues, waste prevention","operationId":"get_overstock_api_v1_inventory_reports_overstock_get","responses":{"200":{"description":"Products with overstock","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Response 200 Get Overstock Api V1 Inventory Reports Overstock Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/inventory/reports/products/{product_id}/history":{"get":{"tags":["Reports"],"summary":"Get product movement history","description":"Get complete movement history for a product.\n\n**Permissions:** Any authenticated user\n\nReturns detailed audit trail of all movements for a product.\n\n**Path Parameters:**\n- product_id: Product UUID (required)\n\n**Response Schema:**\n- product_id: The queried product UUID\n- total_movements: Total number of movements (entries + exits + adjustments)\n- total_entries: Sum of all quantities from ENTRY movements\n- total_exits: Sum of absolute values from EXIT movements\n- entries_count: Count of ENTRY movement records\n- exits_count: Count of EXIT movement records\n- last_movement: Most recent InventoryMovementResponse\n- recent_movements: Array of last 50 movements (newest first)\n\n**Use Case:** Product audit trail, historical analysis, reconciliation","operationId":"get_product_history_api_v1_inventory_reports_products__product_id__history_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"responses":{"200":{"description":"Product movement history","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Product History Api V1 Inventory Reports Products  Product Id  History Get"},"example":{"product_id":"prod-uuid-1","total_movements":45,"total_entries":500,"total_exits":320,"entries_count":12,"exits_count":33,"last_movement":{"id":"mov-uuid-1","product_id":"prod-uuid-1","movement_type":"EXIT","quantity":-15,"movement_date":"2025-01-15T12:30:00Z","responsible":"juan","notes":"Sale"},"recent_movements":[]}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/reports/daily-sales":{"get":{"tags":["Reports"],"summary":"Get daily sales report","description":"Get daily sales report (EXIT movements only).\n\n**Required permissions:** Admin\n\nGenerates sales report for a specific date with optional employee filtering.\n\n**Query Parameters:**\n- date: Report date in YYYY-MM-DD format (optional, defaults to today)\n- responsible: Filter by employee username (optional)\n\n**Response Schema:**\n- date: Report date (YYYY-MM-DD format)\n- responsible: Filtered employee if specified, None otherwise\n- total_units_sold: Total units sold on this date\n- total_transactions: Number of sale transactions\n- movements: Array of EXIT InventoryMovementResponse objects for the date\n\n**Use Case:** Daily sales verification, employee performance tracking, revenue reporting","operationId":"get_daily_sales_api_v1_inventory_reports_daily_sales_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Date in YYYY-MM-DD format (default: today)","title":"Date"},"description":"Date in YYYY-MM-DD format (default: today)"},{"name":"responsible","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by employee username (optional)","title":"Responsible"},"description":"Filter by employee username (optional)"}],"responses":{"200":{"description":"Daily sales statistics","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Daily Sales Api V1 Inventory Reports Daily Sales Get"},"example":{"date":"2025-01-15","total_units_sold":250,"total_transactions":45,"movements":[{"id":"mov-uuid-1","product_id":"prod-uuid-1","movement_type":"EXIT","quantity":-15,"movement_date":"2025-01-15T12:30:00Z","responsible":"juan"}]}}}},"400":{"description":"Invalid date format","content":{"application/json":{"example":{"detail":"Invalid date format. Use YYYY-MM-DD"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/reports/daily-sales-by-employee":{"get":{"tags":["Reports"],"summary":"Get daily sales breakdown by employee WITH MONETARY AMOUNTS","description":"Get daily sales breakdown by employee WITH MONETARY AMOUNTS.\n\n**Required permissions:** Admin\n\n**CRITICAL USE CASE:** End-of-day cash collection and verification.\nShows exactly how much money each employee should deliver.\n\n**Query Parameters:**\n- date: Report date in YYYY-MM-DD format (optional, defaults to today)\n\n**Response Schema:**\n- date: Report date (YYYY-MM-DD format)\n- total_employees: Number of employees with sales that day\n- sales_by_employee: Dictionary keyed by employee username, each with:\n  - total_units: Total units sold by employee\n  - total_amount: Total monetary amount (quantity * product price)\n  - total_transactions: Number of transactions\n  - movements: Array of detailed EXIT movements\n\n**Employee Sales Object:**\nEach employee entry contains:\n```\n{\n    \"total_units\": 50,\n    \"total_amount\": 127500,\n    \"total_transactions\": 20,\n    \"movements\": [InventoryMovementResponse objects]\n}\n```\n\n**Use Case:**\n- End-of-day verification\n- Cash collection reconciliation\n- Employee accountability\n- Revenue tracking by staff member","operationId":"get_daily_sales_by_employee_api_v1_inventory_reports_daily_sales_by_employee_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Date in YYYY-MM-DD format (default: today)","title":"Date"},"description":"Date in YYYY-MM-DD format (default: today)"}],"responses":{"200":{"description":"Daily sales breakdown by employee with amounts","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Daily Sales By Employee Api V1 Inventory Reports Daily Sales By Employee Get"},"example":{"date":"2025-01-15","total_employees":2,"sales_by_employee":{"juan":{"total_units":50,"total_amount":127500,"total_transactions":20,"movements":[{"id":"mov-uuid-1","product_id":"prod-uuid-1","movement_type":"EXIT","quantity":-5,"movement_date":"2025-01-15T10:30:00Z","responsible":"juan"}]},"maria":{"total_units":70,"total_amount":185000,"total_transactions":25,"movements":[]}}}}}},"400":{"description":"Invalid date format","content":{"application/json":{"example":{"detail":"Invalid date format. Use YYYY-MM-DD"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/reports/reconciliation":{"get":{"tags":["Reports"],"summary":"Get reconciliation report","description":"Get reconciliation report for cash/stock verification.\n\n**Required permissions:** Admin\n\n**CRITICAL USE CASE:** Verify employee deliveries match sales records.\nHelps identify discrepancies between recorded sales and actual cash collected.\n\n**Query Parameters:**\n- start_date: Report period start date in YYYY-MM-DD format (required)\n- end_date: Report period end date in YYYY-MM-DD format (required)\n\n**Response Schema:**\n- period: Object with:\n  - start: Start date (YYYY-MM-DD)\n  - end: End date (YYYY-MM-DD)\n- reconciliation: Dictionary keyed by employee username, each containing:\n  - total_units_sold: Total units sold during period\n  - exit_count: Number of EXIT transactions\n  - entries: Total units entered during period\n  - movements: Array of all movements for employee in period\n\n**Employee Reconciliation Object:**\n```\n{\n    \"total_units_sold\": 250,\n    \"exit_count\": 45,\n    \"entries\": 100,\n    \"movements\": [InventoryMovementResponse objects]\n}\n```\n\n**Reconciliation Process:**\n1. Get total_amount from daily_sales_by_employee endpoint\n2. Compare with employee's actual cash collection\n3. Identify discrepancies\n4. Use movement history for audit trail\n\n**Use Cases:**\n- End-of-period cash reconciliation\n- Employee accountability verification\n- Fraud detection\n- Stock count verification\n- Financial audit trail\n\n**Error Cases:**\n- 400: Invalid date format or start_date > end_date\n- 401: Unauthorized (must be admin)","operationId":"get_reconciliation_report_api_v1_inventory_reports_reconciliation_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":true,"schema":{"type":"string","description":"Start date in YYYY-MM-DD format (required)","title":"Start Date"},"description":"Start date in YYYY-MM-DD format (required)"},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","description":"End date in YYYY-MM-DD format (required)","title":"End Date"},"description":"End date in YYYY-MM-DD format (required)"}],"responses":{"200":{"description":"Reconciliation report","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Reconciliation Report Api V1 Inventory Reports Reconciliation Get"},"example":{"period":{"start":"2025-01-10","end":"2025-01-15"},"reconciliation":{"juan":{"total_units_sold":250,"exit_count":45,"entries":100,"movements":[{"id":"mov-uuid-1","product_id":"prod-uuid-1","movement_type":"EXIT","quantity":-5,"movement_date":"2025-01-15T10:30:00Z","responsible":"juan"}]},"maria":{"total_units_sold":180,"exit_count":32,"entries":50,"movements":[]}}}}}},"400":{"description":"Invalid date format or range","content":{"application/json":{"examples":{"invalid_format":{"value":{"detail":"Invalid date format. Use YYYY-MM-DD"}},"invalid_range":{"value":{"detail":"start_date must be before end_date"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AttendanceResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","description":"ID de la asistencia"},"client_id":{"type":"string","format":"uuid","title":"Client Id","description":"ID del cliente"},"check_in":{"type":"string","format":"date-time","title":"Check In","description":"Hora de entrada"},"meta_info":{"additionalProperties":true,"type":"object","title":"Meta Info","description":"InformaciÃ³n adicional"}},"type":"object","required":["id","client_id","check_in"],"title":"AttendanceResponse","description":"Schema de respuesta para una asistencia."},"AttendanceWithClientInfo":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","description":"ID de la asistencia"},"client_id":{"type":"string","format":"uuid","title":"Client Id","description":"ID del cliente"},"check_in":{"type":"string","format":"date-time","title":"Check In","description":"Hora de entrada"},"meta_info":{"additionalProperties":true,"type":"object","title":"Meta Info","description":"InformaciÃ³n adicional"},"client_first_name":{"type":"string","title":"Client First Name","description":"Nombre del cliente"},"client_last_name":{"type":"string","title":"Client Last Name","description":"Apellido del cliente"},"client_dni_number":{"type":"string","title":"Client Dni Number","description":"CÃ©dula del cliente"}},"type":"object","required":["id","client_id","check_in","client_first_name","client_last_name","client_dni_number"],"title":"AttendanceWithClientInfo","description":"Schema con informaciÃ³n adicional del cliente."},"BiometricInfo":{"properties":{"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"thumbnail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","title":"BiometricInfo","description":"Biometric information for dashboard."},"Body_login_api_v1_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_v1_auth_token_post"},"CheckInResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Si el check-in fue exitoso"},"message":{"type":"string","title":"Message","description":"Mensaje para el usuario"},"can_enter":{"type":"boolean","title":"Can Enter","description":"Si puede entrar"},"attendance":{"anyOf":[{"$ref":"#/components/schemas/AttendanceResponse"},{"type":"null"}],"description":"Datos de la asistencia creada"},"client_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Client Info","description":"InformaciÃ³n del cliente"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason","description":"RazÃ³n de denegaciÃ³n si aplica"}},"type":"object","required":["success","message","can_enter"],"title":"CheckInResponse","description":"Respuesta detallada de check-in con validaciones."},"Client":{"properties":{"dni_type":{"$ref":"#/components/schemas/DocumentType"},"dni_number":{"type":"string","title":"Dni Number"},"first_name":{"type":"string","title":"First Name"},"middle_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Middle Name"},"last_name":{"type":"string","title":"Last Name"},"second_last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Second Last Name"},"phone":{"type":"string","title":"Phone"},"alternative_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alternative Phone"},"birth_date":{"type":"string","format":"date","title":"Birth Date"},"gender":{"$ref":"#/components/schemas/GenderType"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"id":{"type":"string","format":"uuid","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"meta_info":{"additionalProperties":true,"type":"object","title":"Meta Info","default":{}}},"type":"object","required":["dni_type","dni_number","first_name","last_name","phone","birth_date","gender","id","is_active","created_at","updated_at"],"title":"Client"},"ClientBasicInfo":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"dni_type":{"type":"string","title":"Dni Type"},"dni_number":{"type":"string","title":"Dni Number"},"phone":{"type":"string","title":"Phone"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","first_name","last_name","dni_type","dni_number","phone","is_active","created_at","updated_at"],"title":"ClientBasicInfo","description":"Basic client information for dashboard."},"ClientCreate":{"properties":{"dni_type":{"$ref":"#/components/schemas/DocumentType"},"dni_number":{"type":"string","title":"Dni Number"},"first_name":{"type":"string","title":"First Name"},"middle_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Middle Name"},"last_name":{"type":"string","title":"Last Name"},"second_last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Second Last Name"},"phone":{"type":"string","title":"Phone"},"alternative_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alternative Phone"},"birth_date":{"type":"string","format":"date","title":"Birth Date"},"gender":{"$ref":"#/components/schemas/GenderType"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","required":["dni_type","dni_number","first_name","last_name","phone","birth_date","gender"],"title":"ClientCreate","examples":[{"address":"Calle 123 #45-67, BogotÃ¡","alternative_phone":"+573109876543","birth_date":"1990-05-15","dni_number":"1234567890","dni_type":"CC","first_name":"Juan","gender":"male","last_name":"PÃ©rez","middle_name":"Carlos","phone":"+573001234567","second_last_name":"GonzÃ¡lez"}]},"ClientDashboard":{"properties":{"client":{"anyOf":[{"$ref":"#/components/schemas/ClientBasicInfo"},{"type":"null"}]},"biometric":{"anyOf":[{"$ref":"#/components/schemas/BiometricInfo"},{"type":"null"}]},"subscription":{"anyOf":[{"$ref":"#/components/schemas/SubscriptionInfo"},{"type":"null"}]},"stats":{"anyOf":[{"$ref":"#/components/schemas/ClientStats"},{"type":"null"}]}},"type":"object","title":"ClientDashboard","description":"Complete client dashboard information."},"ClientStats":{"properties":{"subscriptions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Subscriptions"},"attendances":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Attendances"},"last_attendance":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Attendance"},"since":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Since"}},"type":"object","title":"ClientStats","description":"Client statistics for dashboard."},"ClientUpdate":{"properties":{"dni_type":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}]},"dni_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dni Number"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"middle_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Middle Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"second_last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Second Last Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"alternative_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alternative Phone"},"birth_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Birth Date"},"gender":{"anyOf":[{"$ref":"#/components/schemas/GenderType"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ClientUpdate","examples":[{"address":"Carrera 7 #32-16, MedellÃ­n","is_active":true,"phone":"+573001111111"}]},"DocumentType":{"type":"string","enum":["CC","TI","CE","PP"],"title":"DocumentType"},"DurationType":{"type":"string","enum":["day","week","month","year"],"title":"DurationType"},"FaceAuthenticationRequest":{"properties":{"image_base64":{"type":"string","title":"Image Base64"}},"type":"object","required":["image_base64"],"title":"FaceAuthenticationRequest","examples":[{"image_base64":"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/..."}]},"FaceAuthenticationResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"client_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Client Id"},"client_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Client Info"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"}},"type":"object","required":["success","message"],"title":"FaceAuthenticationResponse"},"FaceComparisonRequest":{"properties":{"image_base64_1":{"type":"string","title":"Image Base64 1"},"image_base64_2":{"type":"string","title":"Image Base64 2"}},"type":"object","required":["image_base64_1","image_base64_2"],"title":"FaceComparisonRequest","examples":[{"image_base64_1":"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/...","image_base64_2":"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/..."}]},"FaceComparisonResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"match":{"type":"boolean","title":"Match"},"distance":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Distance"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"}},"type":"object","required":["success","message","match"],"title":"FaceComparisonResponse"},"FaceDeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"FaceDeleteResponse"},"FaceRegistrationRequest":{"properties":{"client_id":{"type":"string","format":"uuid","title":"Client Id"},"image_base64":{"type":"string","title":"Image Base64"}},"type":"object","required":["client_id","image_base64"],"title":"FaceRegistrationRequest","examples":[{"client_id":"123e4567-e89b-12d3-a456-426614174000","image_base64":"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/..."}]},"FaceRegistrationResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"biometric_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Biometric Id"},"client_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Client Id"}},"type":"object","required":["success","message"],"title":"FaceRegistrationResponse"},"FaceUpdateRequest":{"properties":{"client_id":{"type":"string","format":"uuid","title":"Client Id"},"image_base64":{"type":"string","title":"Image Base64"}},"type":"object","required":["client_id","image_base64"],"title":"FaceUpdateRequest","examples":[{"client_id":"123e4567-e89b-12d3-a456-426614174000","image_base64":"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/..."}]},"GenderType":{"type":"string","enum":["male","female","other"],"title":"GenderType"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InventoryMovementResponse":{"properties":{"id":{"type":"string","title":"Id"},"product_id":{"type":"string","title":"Product Id"},"movement_type":{"$ref":"#/components/schemas/InventoryMovementTypeEnum"},"quantity":{"type":"string","title":"Quantity"},"movement_date":{"type":"string","format":"date-time","title":"Movement Date"},"responsible":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Responsible"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["id","product_id","movement_type","quantity","movement_date","responsible","notes"],"title":"InventoryMovementResponse","description":"Schema para retornar un movimiento"},"InventoryMovementTypeEnum":{"type":"string","enum":["ENTRY","EXIT"],"title":"InventoryMovementTypeEnum","description":"Type of inventory movement"},"PasswordChange":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChange","examples":[{"current_password":"OldP@ssw0rd123","new_password":"NewSecureP@ssw0rd456"}]},"Payment":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","description":"Payment ID"},"subscription_id":{"type":"string","format":"uuid","title":"Subscription Id","description":"Subscription ID"},"amount":{"type":"string","title":"Amount","description":"Payment amount"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod","description":"Payment method used"},"payment_date":{"type":"string","format":"date-time","title":"Payment Date","description":"When the payment was made"},"meta_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta Info","description":"Additional metadata"}},"type":"object","required":["id","subscription_id","amount","payment_method","payment_date"],"title":"Payment","description":"Payment response schema.\nWhat gets returned from the API."},"PaymentCreateInput":{"properties":{"amount":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Amount","description":"Payment amount (exact value, no tolerance)"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod","description":"Payment method: cash, qr, transfer, card"}},"type":"object","required":["amount","payment_method"],"title":"PaymentCreateInput","description":"Input to create a payment.\n\n- amount: Exact payment amount (no tolerance)\n- payment_method: How the payment was made","examples":[{"amount":"150.00","payment_method":"cash"},{"amount":"75.50","payment_method":"qr"},{"amount":"200.00","payment_method":"transfer"}]},"PaymentMethod":{"type":"string","enum":["cash","qr","transfer","card"],"title":"PaymentMethod","description":"Payment methods available"},"PaymentStats":{"properties":{"subscription_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Subscription Id","description":"Subscription ID (if stats are for a subscription)"},"client_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Client Id","description":"Client ID (if stats are for a client)"},"total_payments":{"type":"integer","title":"Total Payments","description":"Total number of payments"},"total_amount_paid":{"type":"string","title":"Total Amount Paid","description":"Total amount paid"},"remaining_debt":{"type":"string","title":"Remaining Debt","description":"Remaining debt"},"last_payment_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Payment Date","description":"Last payment date"}},"type":"object","required":["total_payments","total_amount_paid","remaining_debt"],"title":"PaymentStats","description":"Payment statistics for a subscription or client","examples":[{"last_payment_date":"2025-10-20T16:45:00Z","remaining_debt":"0.00","subscription_id":"550e8400-e29b-41d4-a716-446655440000","total_amount_paid":"225.00","total_payments":3},{"client_id":"550e8400-e29b-41d4-a716-446655440001","last_payment_date":"2025-10-20T16:45:00Z","remaining_debt":"50.00","total_amount_paid":"500.00","total_payments":5}]},"PaymentWithDebtInfo":{"properties":{"payment":{"$ref":"#/components/schemas/Payment","description":"The payment that was created"},"remaining_debt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remaining Debt","description":"Remaining debt (None if subscription is ACTIVE, $0 if fully paid)"},"subscription_status":{"type":"string","title":"Subscription Status","description":"Subscription status after payment (active, pending_payment, etc)"}},"type":"object","required":["payment","subscription_status"],"title":"PaymentWithDebtInfo","description":"Extended payment response with debt information.\nUsed after creating a payment to show remaining debt.","examples":[{"payment":{"amount":"100.00","id":"123e4567-e89b-12d3-a456-426614174000","payment_date":"2025-10-20T15:30:00Z","payment_method":"cash","subscription_id":"550e8400-e29b-41d4-a716-446655440000"},"remaining_debt":"50.00","subscription_status":"pending_payment"},{"payment":{"amount":"50.00","id":"223e4567-e89b-12d3-a456-426614174001","payment_date":"2025-10-20T16:45:00Z","payment_method":"qr","subscription_id":"550e8400-e29b-41d4-a716-446655440000"},"remaining_debt":"0.00","subscription_status":"active"}]},"Plan":{"properties":{"name":{"type":"string","title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"type":"string","title":"Price"},"currency":{"type":"string","title":"Currency","default":"COP"},"duration_unit":{"$ref":"#/components/schemas/DurationType"},"duration_count":{"type":"integer","title":"Duration Count"},"id":{"type":"string","format":"uuid","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"meta_info":{"additionalProperties":true,"type":"object","title":"Meta Info","default":{}}},"type":"object","required":["name","price","duration_unit","duration_count","id","is_active","created_at","updated_at"],"title":"Plan"},"PlanCreate":{"properties":{"name":{"type":"string","title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Price"},"currency":{"type":"string","title":"Currency","default":"COP"},"duration_unit":{"$ref":"#/components/schemas/DurationType"},"duration_count":{"type":"integer","title":"Duration Count"}},"type":"object","required":["name","price","duration_unit","duration_count"],"title":"PlanCreate","examples":[{"currency":"COP","description":"A basic subscription plan","duration_count":1,"duration_unit":"month","name":"Basic Plan","price":50000.0,"slug":"basic-plan"}]},"PlanUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Price"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"duration_unit":{"anyOf":[{"$ref":"#/components/schemas/DurationType"},{"type":"null"}]},"duration_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Count"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"PlanUpdate"},"ProductCreate":{"properties":{"name":{"type":"string","maxLength":150,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"capacity_value":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Capacity Value"},"unit_type":{"type":"string","maxLength":10,"minLength":1,"title":"Unit Type"},"price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Price"},"currency":{"type":"string","maxLength":3,"minLength":3,"title":"Currency","default":"COP"},"photo_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Photo Url"},"min_stock":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Min Stock","default":"5.00"},"max_stock":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"},{"type":"null"}],"title":"Max Stock"}},"type":"object","required":["name","capacity_value","unit_type","price"],"title":"ProductCreate","description":"Schema para crear un producto"},"ProductResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"capacity_value":{"type":"string","title":"Capacity Value"},"unit_type":{"type":"string","title":"Unit Type"},"price":{"type":"string","title":"Price"},"currency":{"type":"string","title":"Currency"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url"},"available_quantity":{"type":"string","title":"Available Quantity"},"min_stock":{"type":"string","title":"Min Stock"},"max_stock":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Max Stock"},"stock_status":{"$ref":"#/components/schemas/StockStatusEnum"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","description","capacity_value","unit_type","price","currency","photo_url","available_quantity","min_stock","max_stock","stock_status","is_active","created_at","updated_at"],"title":"ProductResponse","description":"Schema para retornar un producto"},"ProductUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":150,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"capacity_value":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"},{"type":"null"}],"title":"Capacity Value"},"unit_type":{"anyOf":[{"type":"string","maxLength":10,"minLength":1},{"type":"null"}],"title":"Unit Type"},"price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"},{"type":"null"}],"title":"Price"},"currency":{"anyOf":[{"type":"string","maxLength":3,"minLength":3},{"type":"null"}],"title":"Currency"},"photo_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Photo Url"},"min_stock":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"},{"type":"null"}],"title":"Min Stock"},"max_stock":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"},{"type":"null"}],"title":"Max Stock"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ProductUpdate","description":"Schema para actualizar un producto"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","examples":[{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huX2RvZSIsImV4cCI6MTcyODMyMTYwMCwidHlwZSI6InJlZnJlc2gifQ.example_signature"}]},"StockStatusEnum":{"type":"string","enum":["NORMAL","LOW_STOCK","STOCK_OUT","OVERSTOCK"],"title":"StockStatusEnum"},"Subscription":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"client_id":{"type":"string","format":"uuid","title":"Client Id"},"plan_id":{"type":"string","format":"uuid","title":"Plan Id"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"},"status":{"$ref":"#/components/schemas/SubscriptionStatus"},"cancellation_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Cancellation Date"},"cancellation_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancellation Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"meta_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta Info"}},"type":"object","required":["id","client_id","plan_id","start_date","end_date","status","created_at","updated_at"],"title":"Subscription","description":"Subscription response"},"SubscriptionCancelInput":{"properties":{"cancellation_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancellation Reason","description":"Reason for cancellation"}},"type":"object","title":"SubscriptionCancelInput","description":"Input to cancel a subscription"},"SubscriptionCreateInput":{"properties":{"plan_id":{"type":"string","format":"uuid","title":"Plan Id","description":"Plan ID"},"start_date":{"type":"string","format":"date","title":"Start Date","description":"Subscription start date"}},"type":"object","required":["plan_id","start_date"],"title":"SubscriptionCreateInput","description":"Input to create a subscription","examples":[{"plan_id":"123e4567-e89b-12d3-a456-426614174001","start_date":"2025-01-01"}]},"SubscriptionInfo":{"properties":{"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"plan":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plan"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"}},"type":"object","title":"SubscriptionInfo","description":"Subscription information for dashboard."},"SubscriptionRenewInput":{"properties":{"plan_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Plan Id","description":"Plan ID for renewal (defaults to same plan if not provided)"}},"type":"object","title":"SubscriptionRenewInput","description":"Input to renew a subscription","examples":[{},{"plan_id":"123e4567-e89b-12d3-a456-426614174001"}]},"SubscriptionStatus":{"type":"string","enum":["active","expired","pending_payment","canceled","scheduled"],"title":"SubscriptionStatus"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"User":{"properties":{"username":{"type":"string","title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"role":{"$ref":"#/components/schemas/UserRole"},"disabled":{"type":"boolean","title":"Disabled","default":false}},"type":"object","required":["username","role"],"title":"User"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"role":{"$ref":"#/components/schemas/UserRole"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","role","password"],"title":"UserCreate","examples":[{"email":"john@example.com","full_name":"John Doe","password":"SecureP@ssw0rd123","role":"employee","username":"john_doe"}]},"UserRole":{"type":"string","enum":["admin","employee"],"title":"UserRole"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"}},"type":"object","title":"UserUpdate","examples":[{"email":"newemail@example.com","full_name":"John Updated Doe"}]},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/token"}}}}}}